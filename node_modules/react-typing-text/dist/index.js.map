{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nexport default class SimpleTypingText extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: props.data,\n      index: 0,\n      displayText: ''\n    }\n\n    this.typing = true\n    this.getRawLetters = this.getRawLetters.bind(this)\n    this.type = this.type.bind(this)\n\n    this.beginTyping = this.beginTyping.bind(this)\n  }\n\n  componentDidMount() {\n    this.beginTyping()\n  }\n\n  componentDidUpdate() {\n    if (this.typing === false) {\n      this.startTyping()\n      this.typing = true\n      if (\n        this.state.displayText.length < this.props.text.length &&\n        this.props.text.length > 0 &&\n        this.props.text.substr(0, this.state.displayText.length) ===\n          this.state.displayText\n      ) {\n      } else {\n        this.setState({ displayText: '' })\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this._timeout && clearTimeout(this._timeout)\n  }\n\n  beginTyping() {\n    this.typing = true\n    this._timeout = setTimeout(() => {\n      this.type()\n    }, this.props.typingDelay)\n  }\n\n  getRawLetters() {\n    const { text } = this.props\n    return typeof text === 'string' ? [text] : [...text]\n  }\n\n  type() {\n    let { index, displayText } = this.state\n    let text = this.getRawText()[index]\n    if (text !== displayText) {\n      this.typing = true\n      displayText = text.substr(0, displayText.length + 1)\n      this.setState({ displayText }, () => {\n        this._timeout = setTimeout(() => {\n          this.type()\n        }, this.props.speed)\n      })\n    } else {\n      this.typing = false\n    }\n  }\n\n  render() {\n    const {\n      speed,\n      typingDelay,\n      staticText,\n      text,\n      className,\n      ...otherProps\n    } = this.props\n    const { displayText } = this.state\n    const classes = cx(className, 'ps_typing')\n    return (\n      <span {...otherProps} className={classes}>\n        {staticText ? (\n          <span className='ps_typing_static_text'>{staticText}&nbsp;</span>\n        ) : null}\n\n        <span className='ps_typing_text'>{displayText}</span>\n      </span>\n    )\n  }\n}\n\nSimpleTypingText.defaultProps = {\n  speed: 100,\n  typingDelay: 500\n}\n\nSimpleTypingText.propTypes = {\n  speed: PropTypes.number.isRequired,\n  typingDelay: PropTypes.number.isRequired,\n  staticText: PropTypes.string,\n  text: PropTypes.oneOfType([PropTypes.array, PropTypes.string]).isRequired,\n  className: PropTypes.string\n}\n"],"names":["SimpleTypingText","props","state","data","index","displayText","typing","getRawLetters","bind","type","beginTyping","componentDidMount","componentDidUpdate","startTyping","length","text","substr","setState","componentWillUnmount","_timeout","clearTimeout","setTimeout","typingDelay","getRawText","speed","render","staticText","className","otherProps","classes","cx","React","Component","defaultProps","propTypes","PropTypes","number","isRequired","string","oneOfType","array"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIqBA;;;AACnB,4BAAYC,KAAZ,EAAmB;AAAA;;AACjB,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAEF,KAAK,CAACE,IADD;AAEXC,MAAAA,KAAK,EAAE,CAFI;AAGXC,MAAAA,WAAW,EAAE;AAHF,KAAb;AAMA,UAAKC,MAAL,GAAc,IAAd;AACA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB;AACA,UAAKC,IAAL,GAAY,MAAKA,IAAL,CAAUD,IAAV,+BAAZ;AAEA,UAAKE,WAAL,GAAmB,MAAKA,WAAL,CAAiBF,IAAjB,+BAAnB;AAZiB;AAalB;;;;SAEDG,oBAAA,6BAAoB;AAClB,SAAKD,WAAL;AACD;;SAEDE,qBAAA,8BAAqB;AACnB,QAAI,KAAKN,MAAL,KAAgB,KAApB,EAA2B;AACzB,WAAKO,WAAL;AACA,WAAKP,MAAL,GAAc,IAAd;;AACA,UACE,KAAKJ,KAAL,CAAWG,WAAX,CAAuBS,MAAvB,GAAgC,KAAKb,KAAL,CAAWc,IAAX,CAAgBD,MAAhD,IACA,KAAKb,KAAL,CAAWc,IAAX,CAAgBD,MAAhB,GAAyB,CADzB,IAEA,KAAKb,KAAL,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,CAAvB,EAA0B,KAAKd,KAAL,CAAWG,WAAX,CAAuBS,MAAjD,MACE,KAAKZ,KAAL,CAAWG,WAJf,EAKE,CALF,MAMO;AACL,aAAKY,QAAL,CAAc;AAAEZ,UAAAA,WAAW,EAAE;AAAf,SAAd;AACD;AACF;AACF;;SAEDa,uBAAA,gCAAuB;AACrB,SAAKC,QAAL,IAAiBC,YAAY,CAAC,KAAKD,QAAN,CAA7B;AACD;;SAEDT,cAAA,uBAAc;AAAA;;AACZ,SAAKJ,MAAL,GAAc,IAAd;AACA,SAAKa,QAAL,GAAgBE,UAAU,CAAC,YAAM;AAC/B,MAAA,MAAI,CAACZ,IAAL;AACD,KAFyB,EAEvB,KAAKR,KAAL,CAAWqB,WAFY,CAA1B;AAGD;;SAEDf,gBAAA,yBAAgB;AAAA,QACNQ,IADM,GACG,KAAKd,KADR,CACNc,IADM;AAEd,WAAO,OAAOA,IAAP,KAAgB,QAAhB,GAA2B,CAACA,IAAD,CAA3B,aAAwCA,IAAxC,CAAP;AACD;;SAEDN,OAAA,gBAAO;AAAA;;AAAA,sBACwB,KAAKP,KAD7B;AAAA,QACCE,KADD,eACCA,KADD;AAAA,QACQC,WADR,eACQA,WADR;AAEL,QAAIU,IAAI,GAAG,KAAKQ,UAAL,GAAkBnB,KAAlB,CAAX;;AACA,QAAIW,IAAI,KAAKV,WAAb,EAA0B;AACxB,WAAKC,MAAL,GAAc,IAAd;AACAD,MAAAA,WAAW,GAAGU,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeX,WAAW,CAACS,MAAZ,GAAqB,CAApC,CAAd;AACA,WAAKG,QAAL,CAAc;AAAEZ,QAAAA,WAAW,EAAXA;AAAF,OAAd,EAA+B,YAAM;AACnC,QAAA,MAAI,CAACc,QAAL,GAAgBE,UAAU,CAAC,YAAM;AAC/B,UAAA,MAAI,CAACZ,IAAL;AACD,SAFyB,EAEvB,MAAI,CAACR,KAAL,CAAWuB,KAFY,CAA1B;AAGD,OAJD;AAKD,KARD,MAQO;AACL,WAAKlB,MAAL,GAAc,KAAd;AACD;AACF;;SAEDmB,SAAA,kBAAS;AAAA,sBAQH,KAAKxB,KARF;AAAA,QAILyB,UAJK,eAILA,UAJK;AAAA,QAMLC,SANK,eAMLA,SANK;AAAA,QAOFC,UAPE;;AAAA,QASCvB,WATD,GASiB,KAAKH,KATtB,CASCG,WATD;AAUP,QAAMwB,OAAO,GAAGC,EAAE,CAACH,SAAD,EAAY,WAAZ,CAAlB;AACA,wBACEI,kDAAUH,UAAV;AAAsB,MAAA,SAAS,EAAEC;AAAjC,QACGH,UAAU,gBACTK;AAAM,MAAA,SAAS,EAAC;AAAhB,OAAyCL,UAAzC,SADS,GAEP,IAHN,eAKEK;AAAM,MAAA,SAAS,EAAC;AAAhB,OAAkC1B,WAAlC,CALF,CADF;AASD;;;EAxF2C2B;AA2F9ChC,gBAAgB,CAACiC,YAAjB,GAAgC;AAC9BT,EAAAA,KAAK,EAAE,GADuB;AAE9BF,EAAAA,WAAW,EAAE;AAFiB,CAAhC;AAKAtB,gBAAgB,CAACkC,SAAjB,GAA6B;AAC3BV,EAAAA,KAAK,EAAEW,SAAS,CAACC,MAAV,CAAiBC,UADG;AAE3Bf,EAAAA,WAAW,EAAEa,SAAS,CAACC,MAAV,CAAiBC,UAFH;AAG3BX,EAAAA,UAAU,EAAES,SAAS,CAACG,MAHK;AAI3BvB,EAAAA,IAAI,EAAEoB,SAAS,CAACI,SAAV,CAAoB,CAACJ,SAAS,CAACK,KAAX,EAAkBL,SAAS,CAACG,MAA5B,CAApB,EAAyDD,UAJpC;AAK3BV,EAAAA,SAAS,EAAEQ,SAAS,CAACG;AALM,CAA7B;;;;"}